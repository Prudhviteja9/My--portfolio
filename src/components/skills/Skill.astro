---
import Card from "../global/Card.astro";

interface Tag {
	text: string;
	bgColor: string;
	textColor?: string;
	hoverTextColor?: string;
	className?: string;
}

interface Props {
	title: string;
	tags?: Tag[];
	primaryColor: string;
	className?: string;
}

const { title, tags, primaryColor, className = "" } = Astro.props;
---

<div class="mx-auto w-full skill-card-wrapper">
	<Card primaryColor={primaryColor} {className}>
		<div class="px-8 py-8">
			<div class="flex w-full flex-col">
				<h2 class="text-2xl font-bold skill-title">{title}</h2>
				<div class="skill-title-underline"></div>
			</div>
			<hr class="my-3 w-full border-[rgba(72,255,255,0.2)]" />
			<p class="text-left">
				<slot />
			</p>
			<div class="mt-5 flex w-full flex-row flex-wrap justify-start">
				{
					tags?.map((tag, index) => (
						<div
							class={`tag-${index} skill-tag my-1 mr-2 w-fit cursor-pointer rounded-full bg-[#303030] px-3 py-1 text-white transition-all duration-300`}
							style={`--tag-index: ${index}; animation-delay: ${index * 50}ms;`}
						>
							{tag.text}
						</div>
					))
				}
			</div>
		</div>
	</Card>
</div>

<style define:vars={{ primaryColor }}>
	.skill-card-wrapper {
		transition: all 0.3s ease;
	}

	.skill-title {
		position: relative;
		display: inline-block;
		background: linear-gradient(90deg, #ffffff, var(--primaryColor));
		background-clip: text;
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		transition: all 0.3s ease;
	}

	.skill-title-underline {
		width: 60px;
		height: 3px;
		background: linear-gradient(90deg, var(--primaryColor), transparent);
		border-radius: 2px;
		margin-top: 0.5rem;
		animation: underlineGrow 0.6s ease;
	}

	.skill-tag {
		border: 1px solid rgba(72, 255, 255, 0.1);
		background: linear-gradient(135deg, rgba(48, 48, 48, 0.9), rgba(48, 48, 48, 0.7));
		position: relative;
		overflow: hidden;
		animation: tagIn 0.4s ease forwards;
		opacity: 0;
	}

	.skill-tag::before {
		content: "";
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(
			90deg,
			transparent,
			rgba(72, 255, 255, 0.2),
			transparent
		);
		transition: left 0.5s ease;
	}

	.skill-tag:hover::before {
		left: 100%;
	}

	.skill-tag:hover {
		border-color: rgba(72, 255, 255, 0.6);
		background: linear-gradient(
			135deg,
			rgba(72, 255, 255, 0.15),
			rgba(22, 255, 0, 0.1)
		);
		transform: translateY(-3px) scale(1.08);
		box-shadow: 0 8px 20px rgba(72, 255, 255, 0.3);
		text-shadow: 0 0 8px rgba(72, 255, 255, 0.5);
	}

	@keyframes tagIn {
		0% {
			opacity: 0;
			transform: translateY(10px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes underlineGrow {
		0% {
			width: 0;
			opacity: 0;
		}
		100% {
			width: 60px;
			opacity: 1;
		}
	}
</style>
